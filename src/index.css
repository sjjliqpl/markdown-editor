@tailwind base;
@tailwind components;
@tailwind utilities;

/* ─── Shared tokens ─────────────────────────────── */
:root {
  --accent: #e2a336;
  --accent-hover: #d4922a;
  --accent-subtle: rgba(226, 163, 54, 0.12);
  --accent-glow: rgba(226, 163, 54, 0.25);

  --radius-sm: 6px;
  --radius-md: 8px;
  --radius-lg: 12px;

  --font-ui: 'DM Sans', system-ui, sans-serif;
  --font-mono: 'JetBrains Mono', 'Fira Code', monospace;
  --font-serif: 'Source Serif 4', 'Georgia', serif;

  --shadow-sm: 0 1px 2px rgba(0,0,0,0.15);
  --shadow-md: 0 4px 12px rgba(0,0,0,0.2);
  --shadow-lg: 0 8px 30px rgba(0,0,0,0.3);
  --shadow-glow: 0 0 20px var(--accent-glow);
}

/* ─── Dark theme (default) ───────────────────────── */
:root,
[data-theme='dark'] {
  --bg-primary: #1a1a1e;
  --bg-secondary: #222226;
  --bg-elevated: #2a2a2f;
  --bg-surface: #1e1e23;
  --bg-surface-warm: #222228;
  --bg-hover: #32323a;

  --text-primary: #e8e6e3;
  --text-secondary: #9d9b97;
  --text-muted: #6b6966;
  --text-on-surface: #dedad5;
  --text-on-surface-secondary: #9d9a95;

  --border: #32323a;
  --border-subtle: #2a2a2f;
  --border-surface: #32323a;

  color-scheme: dark;
}

/* ─── Light theme ────────────────────────────────── */
[data-theme='light'] {
  --bg-primary: #f5f4f0;
  --bg-secondary: #eeece8;
  --bg-elevated: #e8e5e0;
  --bg-surface: #faf9f7;
  --bg-surface-warm: #f5f3ef;
  --bg-hover: #e0ddd7;

  --text-primary: #2c2a26;
  --text-secondary: #6b6764;
  --text-muted: #9d9a96;
  --text-on-surface: #2c2a26;
  --text-on-surface-secondary: #6b6764;

  --border: #d8d5cf;
  --border-subtle: #e5e2dc;
  --border-surface: #d8d5cf;

  --shadow-sm: 0 1px 2px rgba(0,0,0,0.06);
  --shadow-md: 0 4px 12px rgba(0,0,0,0.08);
  --shadow-lg: 0 8px 30px rgba(0,0,0,0.12);

  color-scheme: light;
}

/* ─── Auto: respect OS preference ───────────────── */
@media (prefers-color-scheme: light) {
  :root:not([data-theme='dark']):not([data-theme='light']) {
    --bg-primary: #f5f4f0;
    --bg-secondary: #eeece8;
    --bg-elevated: #e8e5e0;
    --bg-surface: #faf9f7;
    --bg-surface-warm: #f5f3ef;
    --bg-hover: #e0ddd7;

    --text-primary: #2c2a26;
    --text-secondary: #6b6764;
    --text-muted: #9d9a96;
    --text-on-surface: #2c2a26;
    --text-on-surface-secondary: #6b6764;

    --border: #d8d5cf;
    --border-subtle: #e5e2dc;
    --border-surface: #d8d5cf;

    --shadow-sm: 0 1px 2px rgba(0,0,0,0.06);
    --shadow-md: 0 4px 12px rgba(0,0,0,0.08);
    --shadow-lg: 0 8px 30px rgba(0,0,0,0.12);

    color-scheme: light;
  }
}

* {
  box-sizing: border-box;
}

body {
  margin: 0;
  font-family: var(--font-ui);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  background: var(--bg-primary);
  color: var(--text-primary);
}

/* Scrollbar styling */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: var(--text-muted);
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--text-secondary);
}

/* Selection */
::selection {
  background: var(--accent-subtle);
  color: var(--accent);
}

/* Focus ring */
:focus-visible {
  outline: 2px solid var(--accent);
  outline-offset: 2px;
}

/* Smooth transitions globally */
button, a, input, textarea {
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Tooltip animation */
@keyframes tooltipFadeIn {
  from { opacity: 0; transform: translateY(4px); }
  to { opacity: 1; transform: translateY(0); }
}

/* Fade in animation */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

/* Slide up animation */
@keyframes slideUp {
  from { opacity: 0; transform: translateY(8px); }
  to { opacity: 1; transform: translateY(0); }
}

/* Pulse glow for active states */
@keyframes pulseGlow {
  0%, 100% { box-shadow: 0 0 0 0 var(--accent-glow); }
  50% { box-shadow: 0 0 12px 2px var(--accent-glow); }
}
